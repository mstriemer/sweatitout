{% extends "layout.html" %}

{% block content %}
<h1>Group Fitness</h1>

<div class="section-description">
    Working out in a group is a great way to reach your fitness goals while
    connecting with other people who are passionate about their bodies. Whether
    you are a long time step class superstar or just starting a new fitness
    routine, Sweat It Out has a class that will challenge, motivate and move
    you! Taught by one of our friendly, energetic and fully certified
    instructors, Group Fitness classes will have you having fun and sweating it
    out!
</div>

<div class="courses">
    <div class="course">
        <div class="course-info">
            <h2 class="course-name">{{ course.name }} <small>$110 + tax</small></h2>
        </div>
        <div class="course-info-long">
            <div class="course-description">
                <div class="course-schedule">
                    <strong>{{ course.weekdays[0] }}</strong> and <strong>{{ course.weekdays[1] }}</strong> from <strong>{{ course.start_time }} to {{ course.end_time }}</strong> starting <strong>{{ course.start_date }}</strong> and ending <strong>{{ course.end_date }}</strong> at <strong>{{ course.location }}</strong>.
                </div>
                {{ course.description }}
            </div>
            <div class="course-map">
                <img src="/static/images/revive-fitness-map.png" alt="Revive Fitness Map">
            </div>
        </div>
        <div class="course-signup">
            <button class="{% if show_form %}hide {% endif %}signup btn btn-green">Sign Me Up!</button>
            <form class="{% if not show_form %}hide {% endif %}course-signup-form form-horizontal stripe-form" action="/{{ course.slug }}/register" method="post">
                <fieldset>
                    <legend>Register for {{ course.name }}</legend>
                    {% for field in form.fields %}
                    <div class="control-group{% if field.errors %} error{% endif %}">
                        <label class="control-label" for="{{ field.name }}">{{ field.description }}</label>
                        <div class="controls">
                            <input value="{{ field.value }}" type="text" name="{{ field.name }}">
                            <span class="help-inline">
                                {% if field.errors %}
                                {{ field.errors[0] }}
                                {% else %}
                                required
                                {% endif %}
                            </span>
                        </div>
                    </div>
                    {% endfor %}
                    <div class="control-group">
                        <label class="control-label" for="payment_type">Payment method</label>
                        <div class="controls">
                            {% for name, description in [["stripe", "Credit Card"], ["paypal", "PayPal"], ["in_person", "In Person"]] %}
                            <label class="radio inline">
                                <input value="{{ name }}"{% if request.form.payment_type == name %} checked="checked"{% endif %} type="radio" name="payment_type">
                                {{ description }}
                            </label>
                            {% endfor %}
                        </div>
                    </div>
                    {% include "stripe.html" %}
                    {% include "paypal.html" %}
                    {% include "in_person.html" %}
                    <div class="form-actions">
                        <input type="submit" value="Sign Me Up!" class="btn btn-green submit-button">
                        <a href="/group-fitness" class="no-signup">Not yet</a>
                    </div>
                </fieldset>
            </form>
        </div>
    </div>
</div>
{% endblock %}
